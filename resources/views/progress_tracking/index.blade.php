<x-app-layout>
    {{-- <x-slot name="header">
        <h2 class="font-semibold text-xl text-gray-800 leading-tight">
            {{ __('Inbound Process Tracking') }}
        </h2>
    </x-slot> --}}

     
     {{-- <div class="p-4 sm:ml-64">
        <div class="p-4 border-2 border-gray-200 border-dashed rounded-lg dark:border-gray-700">
           <div class="grid grid-cols-3 gap-4 mb-4">
              <div class="flex items-center justify-center h-24 rounded bg-gray-50 dark:bg-gray-800">
                 <p class="text-2xl text-gray-400 dark:text-gray-500">
                    <svg class="w-3.5 h-3.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18">
                       <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 1v16M1 9h16"/>
                    </svg>
                 </p>
              </div>
              <div class="flex items-center justify-center h-24 rounded bg-gray-50 dark:bg-gray-800">
                 <p class="text-2xl text-gray-400 dark:text-gray-500">
                    <svg class="w-3.5 h-3.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18">
                       <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 1v16M1 9h16"/>
                    </svg>
                 </p>
              </div>
              <div class="flex items-center justify-center h-24 rounded bg-gray-50 dark:bg-gray-800">
                 <p class="text-2xl text-gray-400 dark:text-gray-500">
                    <svg class="w-3.5 h-3.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18">
                       <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 1v16M1 9h16"/>
                    </svg>
                 </p>
              </div>
           </div>
           <div class="flex items-center justify-center h-48 mb-4 rounded bg-gray-50 dark:bg-gray-800">
              <p class="text-2xl text-gray-400 dark:text-gray-500">
                 <svg class="w-3.5 h-3.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 1v16M1 9h16"/>
                 </svg>
              </p>
           </div>
           <div class="grid grid-cols-2 gap-4 mb-4">
              <div class="flex items-center justify-center rounded bg-gray-50 h-28 dark:bg-gray-800">
                 <p class="text-2xl text-gray-400 dark:text-gray-500">
                    <svg class="w-3.5 h-3.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18">
                       <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 1v16M1 9h16"/>
                    </svg>
                 </p>
              </div>
              <div class="flex items-center justify-center rounded bg-gray-50 h-28 dark:bg-gray-800">
                 <p class="text-2xl text-gray-400 dark:text-gray-500">
                    <svg class="w-3.5 h-3.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18">
                       <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 1v16M1 9h16"/>
                    </svg>
                 </p>
              </div>
              <div class="flex items-center justify-center rounded bg-gray-50 h-28 dark:bg-gray-800">
                 <p class="text-2xl text-gray-400 dark:text-gray-500">
                    <svg class="w-3.5 h-3.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18">
                       <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 1v16M1 9h16"/>
                    </svg>
                 </p>
              </div>
              <div class="flex items-center justify-center rounded bg-gray-50 h-28 dark:bg-gray-800">
                 <p class="text-2xl text-gray-400 dark:text-gray-500">
                    <svg class="w-3.5 h-3.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18">
                       <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 1v16M1 9h16"/>
                    </svg>
                 </p>
              </div>
           </div>
           <div class="flex items-center justify-center h-48 mb-4 rounded bg-gray-50 dark:bg-gray-800">
              <p class="text-2xl text-gray-400 dark:text-gray-500">
                 <svg class="w-3.5 h-3.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 1v16M1 9h16"/>
                 </svg>
              </p>
           </div>
           <div class="grid grid-cols-2 gap-4">
              <div class="flex items-center justify-center rounded bg-gray-50 h-28 dark:bg-gray-800">
                 <p class="text-2xl text-gray-400 dark:text-gray-500">
                    <svg class="w-3.5 h-3.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18">
                       <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 1v16M1 9h16"/>
                    </svg>
                 </p>
              </div>
              <div class="flex items-center justify-center rounded bg-gray-50 h-28 dark:bg-gray-800">
                 <p class="text-2xl text-gray-400 dark:text-gray-500">
                    <svg class="w-3.5 h-3.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18">
                       <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 1v16M1 9h16"/>
                    </svg>
                 </p>
              </div>
              <div class="flex items-center justify-center rounded bg-gray-50 h-28 dark:bg-gray-800">
                 <p class="text-2xl text-gray-400 dark:text-gray-500">
                    <svg class="w-3.5 h-3.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18">
                       <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 1v16M1 9h16"/>
                    </svg>
                 </p>
              </div>
              <div class="flex items-center justify-center rounded bg-gray-50 h-28 dark:bg-gray-800">
                 <p class="text-2xl text-gray-400 dark:text-gray-500">
                    <svg class="w-3.5 h-3.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18">
                       <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 1v16M1 9h16"/>
                    </svg>
                 </p>
              </div>
           </div>
        </div>
     </div> --}}
        <div class="top-header">
            <p class="text-3xl font-bold grow">
                Inbound Progress Tracking
            </p>
            <div class="">
                <form method="get" action="{{ route('inbound.progress_tracking.edit') }}">
                    <label for="semester">ภาคเรียน</label>
                    <select id="semester" name="semester">
                        @foreach ($semesters as $key => $thai_display)
                        <option value="{{$key}}" {{ ($selected_semester == $thai_display ? "selected": "") }}>{{$thai_display}}</option>
                        @endforeach
                    </select>
                    
                    <label for="year">ปีการศึกษา</label>
                    <select id="year" name="year">
                        @foreach ($years as $y)
                        <option value="{{$y}}" {{ ($selected_year == $y ? "selected": "") }}>{{$y}}</option>
                        @endforeach
                </select>
                
                <button class="top-search-bt" type="submit">ค้นหา</button>
                </form>     
            </div>
        </div>
    
    
    <div class="content-container"> 
        <p class="sem-year-head">{{ $selected_semester }} / {{ $selected_year }}</p>
       
        <ul>
            @for ($i = 0; $i < 13; $i++)
            <li>
                <div class="border-b border-slate-300">
                    <p class="my-2">{{$processes[$i]->deadline}}</p>
                    <div class="flex my-4">
                        <div class="mr-2">
                            <form method="post" id="process-form-{{$i}}" action="{{ route('inbound.progress_tracking.update') }}">
                                @csrf
                                @method('put')
                                <input type="hidden" name="processId" value="{{ $processes[$i]->id }}">
                                <input type="hidden" name="currentStatus" value="{{ $processes[$i]->process_status }}">
                                <button type="submit" class="checkbox-btn border border-slate-400 text-white rounded w-[20px] h-[20px] ">
                                    @if(($processes[$i]->process_status == 'Successful'))
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="green" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M9 16.17L5.83 13L4.41 14.41L9 19L21 7L19.59 5.59L9 16.17Z"/>
                                        </svg>
                                    @endif
                                </button>
                            </form>
                        </div>
                        
                        <div class="mx-2">
                            <p class="py-0.5 pr-0.3 w-[30px] h-[30px] text-center rounded-full text-white font-light {{$processes[$i]->process_status == "Successful" ? "bg-pink-400" : "bg-slate-400"}}">{{ $i+1 }}</p>
                        </div>
                        
                        <div  class="mx-2">
                            <p id="expand-name-{{$i+1}}" class="expand-name font-bold cursor-pointer">{{$processes[$i]->process_name}}</p>
                        <div class="process-details-{{$i+1}}" style="display:none;">
                            @if (($processes[$i]->documents))
                            <p class="my-2">เอกสารที่ต้องใช้ : {{$processes[$i]->documents}}</p>
                            @endif
                            <p class="my-2">สถานะ : {{$processes[$i]->process_status == 'Successful' ? 'ดำเนินการเสร็จสิ้น' : 'รอดำเนินการ'}}</p>
                            @if (($processes[$i]->process_status == 'Successful'))
                            <p class="my-2">ดำเนินการเมื่อ : {{$processes[$i]->updated_at }}</p>
                            @endif
                        </div>
                    </div>
                    
                    <div class="mx-2">
                        <button id="expand-btn-{{$i+1}}" class="expand-btn">v</button>
                    </div>
                </div>
            </div>
        </li>
        @endfor
        </ul>
    </div>
    </div>
    </div>
</x-app-layout>